<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <meta name="keywords" content="Nitish Parkar, Software Developer, Genii, Vidyalankar, BGIT, Aryan">

    <link rel="author" href="https://plus.google.com/+NitishParkar"/>

    <meta name="twitter:title" content="Ruby Classes">

    <meta property="og:title" content="Ruby Classes"/>
    <meta property="og:type" content="article"/>


    <title>Ruby Classes</title>

    <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,500|Raleway:400' rel='stylesheet' type='text/css'>

    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/blog/css/syntax.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/blog/css/main.css">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-54024303-1', 'auto');
      ga('send', 'pageview');

    </script>
  </head>
  <body>
    <div class="container">
      <div class="site">
        <div class="header">
          <h1 class="title"><a href="/blog/">Nitish's Blog</a></h1>
        </div>

        <div class="post-header">
  <div>Ruby Classes</div>
  <p class="meta">20 Jan 2014</p>
</div>

<div class="post">
  <p>In Ruby, classes are instances of class <strong>Class</strong>. Since they are objects, they respond to messages sent using dot notation. Classes are special objects that have ability to spawn new objects. Classes are usually defined using <code>class</code> keyword with a constant as name. Classes can inherit the behavior (methods) of another class using inheritance. Ruby classes can have only one parent i.e. multiple inheritance is not allowed. You can reopen already defined classes and add methods to them.</p>

<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="k">class</span> <span class="nc">A</span>
<span class="o">&gt;&gt;</span>   <span class="kp">attr_reader</span> <span class="ss">:answer</span>
<span class="sc">?&gt;</span>   <span class="k">def</span> <span class="nf">initialize</span>
<span class="o">&gt;&gt;</span>     <span class="vi">@answer</span> <span class="o">=</span> <span class="mi">42</span>
<span class="o">&gt;&gt;</span>   <span class="k">end</span>
<span class="sc">?&gt;</span>   <span class="k">def</span> <span class="nc">A</span><span class="o">.</span><span class="nf">foo</span>
<span class="o">&gt;&gt;</span>     <span class="mi">42</span>
<span class="o">&gt;&gt;</span>   <span class="k">end</span>
<span class="o">&gt;&gt;</span> <span class="k">end</span>
<span class="o">&gt;&gt;</span>
<span class="sc">?&gt;</span> <span class="k">class</span> <span class="nc">B</span> <span class="o">&lt;</span> <span class="n">A</span>
<span class="sc">?&gt;</span> <span class="k">end</span>
<span class="o">&gt;&gt;</span> <span class="n">A</span><span class="o">.</span><span class="n">foo</span> <span class="o">==</span> <span class="n">B</span><span class="o">.</span><span class="n">foo</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
<span class="o">&gt;&gt;</span> <span class="n">A</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">answer</span> <span class="o">==</span> <span class="n">B</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">answer</span>
<span class="o">=&gt;</span> <span class="kp">true</span>
</code></pre></div>

<p>Since classes are instances of class <code>Class</code>, defining class method means defining singleton method on <code>Class</code>’s objects. In the above example class <code>A</code> is an object of class <code>Class</code>. <code>A.foo</code> defines a singleton method on object <code>A</code> which is called as class method. Instead of <code>A.foo</code>, you could also use <code>self.foo</code>.</p>

<p>Ruby allows you to create <strong>anonymous classes</strong> using <code>Class.new</code>. <code>Class.new</code> accepts a block in which you can define class and instance methods.</p>

<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="no">Class</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
<span class="sc">?&gt;</span>   <span class="k">def</span> <span class="nf">say_hello</span>
<span class="o">&gt;&gt;</span>     <span class="nb">puts</span> <span class="s2">&quot;Hello!&quot;</span>
<span class="o">&gt;&gt;</span>   <span class="k">end</span>
<span class="sc">?&gt;</span>   <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">say_bye</span>
<span class="o">&gt;&gt;</span>     <span class="nb">puts</span> <span class="s2">&quot;Bye!&quot;</span>
<span class="o">&gt;&gt;</span>   <span class="k">end</span>
<span class="sc">?&gt;</span> <span class="k">end</span>
<span class="o">&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">say_bye</span>
<span class="no">Bye</span><span class="o">!</span>
<span class="o">&gt;&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">say_hello</span>
<span class="no">Hello</span><span class="o">!</span>
</code></pre></div>

<p>Classes have a special method <code>initialize</code> which is called every time a class is instantiated. It is typically used to set values of instance variables. Names of instance variables begin with <code>@</code> symbol. Each object contains its own copy of instance variables which store state of the object. They can be accessed from any instance method of the class. Instance variables are private and cannot be accessed from outside of the class without getter and setter methods. Ruby provides <code>attr_reader</code>, <code>attr_writter</code>, <code>attr_accessor</code> and <code>attr</code> methods (defined in the <code>Module</code> class) which automagically create basic getter/setter methods. Ruby provides syntactic sugar for calling setter methods. So instead of <code>object.attribute=(value)</code>, you can use <code>object.attribute = value</code>. Be careful with setter methods, they don’t return result of the last expression. Instead, they return whatever’s on right-hand side of the <code>=</code>. This behavior is consistent with variable assignment.</p>

<p>In Ruby, name of a <strong>constant</strong> begins with uppercase letter. You can assign objects to constant in the same way as variable assignment. Reassigning already assigned constant is possible but results in a warning. If you try to modify object referred by a constant, ruby doesn’t complain.</p>

<div class="highlight"><pre><code class="ruby"><span class="o">&gt;&gt;</span> <span class="no">Constant</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>
<span class="o">=&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="o">]</span>
<span class="o">&gt;&gt;</span> <span class="no">Constant</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">]</span>
<span class="p">(</span><span class="n">irb</span><span class="p">):</span><span class="mi">25</span><span class="p">:</span> <span class="ss">warning</span><span class="p">:</span> <span class="n">already</span> <span class="n">initialized</span> <span class="n">constant</span> <span class="no">Constant</span>
<span class="o">=&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="o">]</span>
<span class="o">&gt;&gt;</span> <span class="no">Constant</span> <span class="o">&lt;&lt;</span> <span class="mi">5</span>
<span class="o">=&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="o">]</span> <span class="c1"># no warning</span>
</code></pre></div>

<p>Constants defined in a class are accessible from class as well as instance methods of that class. From outside of the class, constants can be accessed by using double colon (<code>::</code>).
Ex. <code>Math::PI</code>.</p>

</div>

<hr id="comments-seperator">


<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'nitishsp';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>No JS, No comments!</noscript>


      </div>
    </div> <!-- /container -->
  </body>
</html>
